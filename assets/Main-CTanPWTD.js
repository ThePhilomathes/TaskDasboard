import{o as c,c as d,a as t,F as y,r as w,w as j,t as g,b as F,d as I,e as B,v as P,f as A,g as E,n as V,h as W,i as q,u as M,L as T,j as S,k as z,l as G,s as H,m as J,p as Q}from"./index-DhIW_MJ9.js";const x=(h,C)=>{const e=h.__vccOpts||h;for(const[a,u]of C)e[a]=u;return e},X={class:"folders"},Y=["data-folder","data-count","onDrop"],Z=["onClick"],tt={__name:"FolderBoard",props:{folders:Array,assignments:Object},emits:["assign","remove"],setup(h,{emit:C}){const e=h;function a(n){return Object.keys(e.assignments).filter(p=>e.assignments[p].includes(n))}const u=I(()=>{const n={};return e.folders.forEach(p=>{n[p]=a(p).length}),n});return(n,p)=>(c(),d(y,null,[p[1]||(p[1]=t("h2",null,"Inboxes",-1)),t("div",X,[(c(!0),d(y,null,w(h.folders,s=>(c(),d("div",{key:s,class:"folder","data-folder":s,"data-count":u.value[s],onDragover:p[0]||(p[0]=j(()=>{},["prevent"])),onDrop:m=>n.$emit("assign",s)},[t("strong",null,g(s),1),(c(!0),d(y,null,w(a(s),m=>(c(),d("div",{key:m,class:"name"},[F(g(m)+" ",1),t("button",{onClick:v=>n.$emit("remove",m,s)},"Remove",8,Z)]))),128))],40,Y))),128))])],64))}},et=x(tt,[["__scopeId","data-v-d082ef61"]]),nt={class:"name-list"},st=["onDragstart"],ot=["onClick"],lt={__name:"NameList",props:{assignments:Object},emits:["add","delete","dragstart","clearAll"],setup(h,{emit:C}){const e=C,a=A("");function u(){const s=a.value.trim();s&&(e("add",s),a.value="")}function n(s){e("dragstart",s)}function p(s){e("delete",s)}return(s,m)=>(c(),d(y,null,[m[2]||(m[2]=t("h2",null,"Names",-1)),B(t("input",{"onUpdate:modelValue":m[0]||(m[0]=v=>a.value=v),placeholder:"Enter name"},null,512),[[P,a.value]]),t("button",{onClick:u},"Add Name"),t("button",{onClick:m[1]||(m[1]=v=>s.$emit("clearAll"))},"Clear All Inboxes"),t("div",nt,[(c(!0),d(y,null,w(h.assignments,(v,f)=>(c(),d("div",{key:f,class:"name",draggable:"true",onDragstart:()=>n(f)},[F(g(f)+" ("+g(v.length)+" folders) ",1),t("button",{onClick:b=>p(f)},"Remove",8,ot)],40,st))),128))])],64))}},rt=x(lt,[["__scopeId","data-v-648c2397"]]),at={class:"comment-controls"},it={class:"new-comment"},ut={class:"comment-list"},ct={class:"comment-header"},dt={class:"user-inbox"},mt={class:"comment-text"},gt={class:"comment-meta"},pt={class:"timestamp"},vt={class:"comment-actions"},ft=["onClick"],_t=["onClick"],ht=["onKeyup"],Ct={key:0,class:"replies"},$t={class:"timestamp"},At={__name:"CommentSection",props:{currentUser:{type:String,default:"Anonymous"},assignments:{type:Object}},emits:["logAction","clearAllComments"],setup(h,{emit:C}){const e=h,a=C,u=A(""),n=A([]);let p=1;const s={},m=A(!0),v=I(()=>[...n.value].sort((i,l)=>m.value?new Date(l.timestamp)-new Date(i.timestamp):new Date(i.timestamp)-new Date(l.timestamp)));function f(i){return e.assignments[i]?.length?e.assignments[i].join(", "):"Unassigned"}function b(){const i=u.value.trim();if(!i)return;const l={id:p++,text:i,timestamp:new Date().toLocaleString(),user:e.currentUser,replies:[],reactions:{},urgent:i==="Emails Please"};n.value.push(l),a("logAction",`User "${e.currentUser}" posted comment: "${i}"`),u.value=""}function U(i,l){const r=l.trim();if(!r)return;const $=n.value.find(D=>D.id===i);$&&($.replies.push({text:r,timestamp:new Date().toLocaleString(),user:e.currentUser}),a("logAction",`User "${e.currentUser}" replied: "${r}"`))}function N(i,l){U(i,l.target.value),l.target.value=""}function k(i,l){const r=n.value.find(K=>K.id===i);if(!r)return;r.reactions[l]||(r.reactions[l]=[]),s[i]||(s[i]={});const $=s[i][l]||0,D=Date.now();if(D-$<1e3)return;s[i][l]=D;const R=r.reactions[l].indexOf(e.currentUser);R===-1?(r.reactions[l].push(e.currentUser),a("logAction",`User "${e.currentUser}" reacted "${l}" to comment ID ${i}`)):(r.reactions[l].splice(R,1),a("logAction",`User "${e.currentUser}" removed "${l}" reaction from comment ID ${i}`))}function O(){alert(`User "${e.currentUser}" triggered a ring notification!`),a("logAction",`User "${e.currentUser}" clicked Ring`)}function o(){u.value="Emails Please",b()}function _(){n.value.length!==0&&confirm("Are you sure you want to clear all posts?")&&(n.value=[],a("clearAllComments"))}function L(){m.value=!m.value}return(i,l)=>(c(),d("div",null,[l[2]||(l[2]=t("h2",null,"Comments",-1)),t("div",at,[t("button",{onClick:L}," Sort: "+g(m.value?"Latest First":"Oldest First"),1),t("button",{onClick:_},"Clear All Posts")]),t("div",it,[B(t("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>u.value=r),type:"text",placeholder:"Write a comment...",onKeyup:E(b,["enter"])},null,544),[[P,u.value]]),t("button",{onClick:b},"Post"),t("button",{class:"urgent-btn",onClick:o},"Emails Please"),t("button",{class:"ring-btn",onClick:O},"ðŸ”” Ring")]),t("div",ut,[(c(!0),d(y,null,w(v.value,r=>(c(),d("div",{key:r.id,class:V(["comment-card",{urgent:r.urgent}])},[t("div",ct,[t("strong",null,g(r.user),1),l[1]||(l[1]=F(" says: ",-1)),t("span",dt,g(f(r.user)),1)]),t("div",mt,g(r.text),1),t("div",gt,[t("span",pt,g(r.timestamp),1),t("div",vt,[t("button",{onClick:$=>k(r.id,"ðŸ‘")}," ðŸ‘ "+g(r.reactions["ðŸ‘"]?.length||0),9,ft),t("button",{onClick:$=>k(r.id,"â¤ï¸")}," â¤ï¸ "+g(r.reactions["â¤ï¸"]?.length||0),9,_t),t("input",{type:"text",placeholder:"Reply...",onKeyup:E($=>N(r.id,$),["enter"])},null,40,ht)])]),r.replies.length?(c(),d("div",Ct,[(c(!0),d(y,null,w(r.replies,($,D)=>(c(),d("div",{key:D,class:"reply"},[t("strong",null,g($.user),1),F(" replied: "+g($.text)+" ",1),t("span",$t,"("+g($.timestamp)+")",1)]))),128))])):W("",!0)],2))),128))])]))}},bt=x(At,[["__scopeId","data-v-adcdf62c"]]),kt={__name:"SummaryTable",props:{assignments:Object},setup(h){return(C,e)=>(c(),d("section",null,[e[1]||(e[1]=t("h2",null,"Summary Mapping",-1)),t("table",null,[e[0]||(e[0]=t("tr",null,[t("th",null,"Name"),t("th",null,"Folders")],-1)),(c(!0),d(y,null,w(h.assignments,(a,u)=>(c(),d("tr",{key:u},[t("td",null,g(u),1),t("td",null,g(a.length?a.join(", "):"No folders"),1)]))),128))])]))}},yt=x(kt,[["__scopeId","data-v-606fe1a2"]]),wt={class:"action-log"},Dt={class:"log-controls"},xt={class:"log-entries"},Ut={__name:"ActionLog",props:{actions:{type:Array,default:()=>[]}},emits:["clearAll"],setup(h,{emit:C}){const e=h,a=C,u=A(!0),n=I(()=>[...e.actions].sort((v,f)=>u.value?new Date(f.timestamp)-new Date(v.timestamp):new Date(v.timestamp)-new Date(f.timestamp)));function p(){u.value=!u.value}function s(){confirm("Are you sure you want to clear all logs?")&&a("clearAll")}function m(){const v=window.open("","","width=800,height=600");v.document.write("<h1>Action Log Report</h1>"),n.value.forEach(f=>{v.document.write(`<p>[${f.timestamp}] ${f.message}</p>`)}),v.document.close(),v.print()}return(v,f)=>(c(),d("div",wt,[f[0]||(f[0]=t("h2",null,"Action Log",-1)),t("div",Dt,[t("button",{onClick:p}," Sort: "+g(u.value?"Latest First":"Oldest First"),1),t("button",{onClick:s},"Clear All Log"),t("button",{onClick:m},"Print Log")]),t("div",xt,[(c(!0),d(y,null,w(n.value,(b,U)=>(c(),d("div",{key:U,class:V(["log-entry",{urgent:b.message.includes("Emails Please")}])}," ["+g(b.timestamp)+"] "+g(b.message),3))),128))])]))}},Lt=x(Ut,[["__scopeId","data-v-8808845f"]]),St={class:"flex flex-row justify-end gap-2 w-full"},Ft={class:"summary-section"},Nt={class:"dashboard"},Ot={class:"columns"},It={class:"column inbox-section"},Rt={class:"column names-section"},Et={class:"column comment-section"},Mt={__name:"Main",setup(h){const C=A(null),e=A("Alice"),a=async()=>{const o=z();o.UserID?C.value=await Q(o.UserID,!1):(G(),H("No Credentials detected"),setTimeout(()=>{J.push({name:"Login"})})),console.log(C.value)};q(async()=>{await a()});const u=A(["DOIC","URGENT","Accounting","Billing and Accounting","Claims","Policy Servicing","Book of Business","Certificate and ID Requests","Fax Notifications","Other","Renewal and Rating","Subdesk","Mailscan","Out of the Office","SMS Routing","EDOCS","SCIF MEMO","TL/Ops Assigned Task"]),n=A({}),p=A([]),s=A(null);function m(o){!o.trim()||n.value[o]||(n.value[o]=[],k(`Added name "${o}"`))}function v(o){delete n.value[o],k(`Deleted name "${o}"`)}function f(o){s.value=o}function b(){Object.keys(n.value).forEach(o=>n.value[o]=[]),k("Cleared all inboxes")}function U(o){if(!s.value)return;const _=s.value;n.value[_].includes(o)||(n.value[_].push(o),k(`Assigned "${_}" to ${o}`))}function N(o,_){n.value[o]=n.value[o].filter(L=>L!==_),k(`Removed "${o}" from ${_}`)}function k(o){p.value.push({message:o,timestamp:new Date().toLocaleString()})}function O(){k(`All comments cleared by ${e.value}`)}return(o,_)=>(c(),d(y,null,[_[1]||(_[1]=t("h1",null,"Inbox Assignment Dashboard",-1)),t("div",St,[t("button",{onClick:_[0]||(_[0]=(...L)=>M(T)&&M(T)(...L)),class:"px-4 py-2 bg-red-600 text-white font-semibold rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500"}," Logout ")]),_[2]||(_[2]=t("div",{class:"top-bar"},[t("label",{for:"date-filter"},"Select Date: "),t("input",{type:"date",id:"date-filter"})],-1)),t("div",Ft,[S(yt,{assignments:n.value},null,8,["assignments"])]),t("div",Nt,[t("div",Ot,[t("div",It,[S(et,{folders:u.value,assignments:n.value,onAssign:U,onRemove:N,onDragstart:f},null,8,["folders","assignments"])]),t("div",Rt,[S(rt,{assignments:n.value,onAdd:m,onDelete:v,onDragstart:f,onClearAll:b},null,8,["assignments"])]),t("div",Et,[S(bt,{currentUser:e.value,assignments:n.value,onLogAction:k,onClearAllComments:O},null,8,["currentUser","assignments"])])]),S(Lt,{actions:p.value},null,8,["actions"])])],64))}},Bt=x(Mt,[["__scopeId","data-v-a8b0427d"]]);export{Bt as default};
