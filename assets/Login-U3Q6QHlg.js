import{e as x,c as v,a as s,i as u,v as w,A as y,B as b,b as m,h as d,y as c,x as k,C as h,D as T,z as g,o as L}from"./index-E67r8Q8L.js";import{c as C,e as D}from"./default-CrXRTFLY.js";const U="users",p={username:"Username",password:"Password"},R=a=>C(a,p),V=async a=>{let t=null;const o=D(a,p),l=await x.from(U).select(`id, fname, lname,
      AccountTypes (
          AccountTypeID,
          Description
        )
      `).eq("username",o.username).eq("password",o.password);return l.data.length>0&&(t=l.data[0]),t},q={class:"min-h-screen flex items-center justify-center bg-slate-100"},B={class:"w-full max-w-md bg-white rounded-xl shadow-lg p-8"},I={class:"space-y-4"},M=["type"],S={class:"flex items-center justify-between text-sm"},A={class:"flex items-center gap-2"},E={__name:"Login",setup(a){const t=d({username:"",password:""}),o=d(!1),l=()=>{g.push({name:"Register"})},i=d(!1),f=async()=>{if(i.value!=!0){i.value=!0;try{const n=await R(t.value);if(n.length>0){c(n[0]);return}const e=await V(t.value);if(!e){c("Failed to Login");return}k(),h("Successfully Logged In"),setTimeout(()=>{T(e),g.push({name:"Main"})},250)}catch(n){console.error(n);const e=n?.message;c(e)}finally{i.value=!1}}};return(n,e)=>(L(),v("div",q,[s("div",B,[e[8]||(e[8]=s("h1",{class:"text-2xl font-semibold text-gray-800 mb-2"},"Welcome back",-1)),e[9]||(e[9]=s("p",{class:"text-sm text-gray-500 mb-6"},"Sign in to your account",-1)),s("div",I,[s("div",null,[e[3]||(e[3]=s("label",{class:"block text-sm font-medium text-gray-600 mb-1"}," Username ",-1)),u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.value.username=r),type:"text",class:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"},null,512),[[w,t.value.username]])]),s("div",null,[e[4]||(e[4]=s("label",{class:"block text-sm font-medium text-gray-600 mb-1"}," Password ",-1)),u(s("input",{type:o.value?"text":"password","onUpdate:modelValue":e[1]||(e[1]=r=>t.value.password=r),class:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"},null,8,M),[[y,t.value.password]])]),s("div",S,[s("label",A,[u(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=r=>o.value=r)},null,512),[[b,o.value]]),e[5]||(e[5]=m(" Show password ",-1))]),e[6]||(e[6]=s("a",{href:"#",class:"text-indigo-600 hover:underline"}," Forgot password? ",-1))]),s("button",{onClick:f,class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg font-medium transition"}," Login ")]),s("p",{class:"text-center text-sm text-gray-500 mt-6"},[e[7]||(e[7]=m(" Donâ€™t have an account? ",-1)),s("a",{onClick:l,class:"text-indigo-600 hover:underline"}," Register ")])])]))}};export{E as default};
